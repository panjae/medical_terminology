<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³¨ê²©ê·¼ ì„¬ìœ  íƒ€ì… ë¹„êµ ì‹œë®¬ë ˆì´ì…˜</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a5f 0%, #2c5282 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            color: #1e3a5f;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header .subtitle {
            font-size: 1.2em;
            color: #718096;
            margin-bottom: 20px;
        }
        
        .comparison-controls {
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }
        
        .controls-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #1e3a5f;
            margin-bottom: 15px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 12px 25px;
            border: 2px solid;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            min-width: 160px;
            position: relative;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .btn.active::before {
            content: "â–¶ ";
            position: absolute;
            left: 8px;
            color: white;
        }
        
        .btn-compare {
            border-color: #2d3748;
            color: #2d3748;
        }
        .btn-compare:hover, .btn-compare.active {
            background: #2d3748;
            color: white;
        }
        
        .btn-endurance {
            border-color: #dc3545;
            color: #dc3545;
        }
        .btn-endurance:hover, .btn-endurance.active {
            background: #dc3545;
            color: white;
        }
        
        .btn-sprint {
            border-color: #6c757d;
            color: #6c757d;
        }
        .btn-sprint:hover, .btn-sprint.active {
            background: #6c757d;
            color: white;
        }
        
        .exercise-status {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .timer {
            font-size: 1.8em;
            font-weight: bold;
            color: #dc3545;
            background: white;
            padding: 8px 16px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .status-text {
            font-size: 1.1em;
            color: #4a5568;
            font-weight: 500;
        }
        
        .comparison-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .muscle-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            border-top: 6px solid;
        }
        
        .type-i-panel {
            border-top-color: #dc3545;
        }
        
        .type-ii-panel {
            border-top-color: #6c757d;
        }
        
        .panel-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .panel-title {
            font-size: 1.6em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .type-i-title {
            color: #dc3545;
        }
        
        .type-ii-title {
            color: #6c757d;
        }
        
        .panel-subtitle {
            font-size: 1.1em;
            color: #718096;
        }
        
        .fiber-visual {
            position: relative;
            height: 200px;
            margin: 20px 0;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid #e2e8f0;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        }
        
        .fiber-strand {
            position: absolute;
            height: 18px;
            border-radius: 9px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            font-weight: bold;
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }
        
        .type-i-strand {
            background: linear-gradient(90deg, #dc3545, #c82333, #dc3545);
            box-shadow: 0 2px 4px rgba(220, 53, 69, 0.3);
        }
        
        .type-ii-strand {
            background: linear-gradient(90deg, #6c757d, #5a6268, #6c757d);
            box-shadow: 0 2px 4px rgba(108, 117, 125, 0.3);
        }
        
        .strand1 { top: 30px; left: 15px; width: 75%; }
        .strand2 { top: 60px; left: 20px; width: 70%; }
        .strand3 { top: 90px; left: 10px; width: 80%; }
        .strand4 { top: 120px; left: 18px; width: 72%; }
        .strand5 { top: 150px; left: 12px; width: 76%; }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .metric {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e9ecef;
        }
        
        .metric-label {
            font-size: 0.9em;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .type-i-value {
            color: #dc3545;
        }
        
        .type-ii-value {
            color: #6c757d;
        }
        
        .metric-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .metric-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        .type-i-fill {
            background: linear-gradient(90deg, #dc3545, #c82333);
        }
        
        .type-ii-fill {
            background: linear-gradient(90deg, #6c757d, #5a6268);
        }
        
        .comparison-charts {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .charts-title {
            font-size: 1.8em;
            font-weight: bold;
            color: #1e3a5f;
            text-align: center;
            margin-bottom: 25px;
        }
        
        .chart-row {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .chart-label {
            width: 180px;
            font-weight: 600;
            color: #2d3748;
            font-size: 1.1em;
        }
        
        .chart-comparison {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .chart-bar {
            height: 25px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            transition: all 0.5s ease;
            position: relative;
        }
        
        .type-i-bar {
            background: linear-gradient(90deg, #dc3545, #c82333);
        }
        
        .type-ii-bar {
            background: linear-gradient(90deg, #6c757d, #5a6268);
        }
        
        .chart-bar::before {
            content: attr(data-type);
            position: absolute;
            left: -80px;
            color: #4a5568;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        .winner-indicator {
            position: absolute;
            right: -30px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2em;
            color: #f39c12;
        }
        
        .side-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .type-i-card {
            border-left: 5px solid #dc3545;
        }
        
        .type-ii-card {
            border-left: 5px solid #6c757d;
        }
        
        .card-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .card-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-item {
            padding: 8px 0;
            border-bottom: 1px solid #f1f3f4;
            display: flex;
            align-items: center;
            font-size: 1.05em;
        }
        
        .feature-item:last-child {
            border-bottom: none;
        }
        
        .feature-item::before {
            content: "â—";
            margin-right: 10px;
            font-size: 1.2em;
        }
        
        .type-i-card .feature-item::before {
            color: #dc3545;
        }
        
        .type-ii-card .feature-item::before {
            color: #6c757d;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f7fafc, #edf2f7);
            border-radius: 15px;
            border: 2px solid #e2e8f0;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
            font-size: 1.1em;
        }
        
        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .red { background: linear-gradient(135deg, #dc3545, #c82333); }
        .gray { background: linear-gradient(135deg, #6c757d, #5a6268); }
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes contractSlow {
            0% { width: 75%; transform: scaleY(1); }
            50% { width: 55%; transform: scaleY(1.1); }
            100% { width: 75%; transform: scaleY(1); }
        }
        
        @keyframes contractFast {
            0% { width: 75%; transform: scaleY(1); }
            25% { width: 35%; transform: scaleY(1.3); }
            50% { width: 75%; transform: scaleY(1); }
            75% { width: 35%; transform: scaleY(1.3); }
            100% { width: 75%; transform: scaleY(1); }
        }
        
        @keyframes fatigue {
            0% { opacity: 1; filter: brightness(1); }
            100% { opacity: 0.4; filter: brightness(0.6); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .contracting-slow {
            animation: contractSlow 4s ease-in-out infinite;
        }
        
        .contracting-fast {
            animation: contractFast 1.2s ease-in-out infinite;
        }
        
        .fatigued {
            animation: fatigue 2s ease-in forwards;
        }
        
        .pulsing {
            animation: pulse 2s ease-in-out infinite;
        }
        
        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .comparison-area,
            .side-comparison,
            .chart-comparison {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .chart-row {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }
            
            .chart-label {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš¡ ê³¨ê²©ê·¼ ì„¬ìœ  íƒ€ì… ë¹„êµ ì‹œë®¬ë ˆì´ì…˜</h1>
            <p class="subtitle">Type I vs Type II Muscle Fiber Comparison</p>
        </div>

        <div class="comparison-controls">
            <h3 class="controls-title">ğŸ”¬ ì‹¤ì‹œê°„ ë¹„êµ ì‹œë®¬ë ˆì´ì…˜</h3>
            <div class="controls">
                <button class="btn btn-compare" onclick="startComparison()">ğŸ“Š ë™ì‹œ ë¹„êµ</button>
                <button class="btn btn-endurance" onclick="simulateEndurance()">ğŸƒ ì§€êµ¬ë ¥ í…ŒìŠ¤íŠ¸</button>
                <button class="btn btn-sprint" onclick="simulateSprint()">âš¡ íŒŒì›Œ í…ŒìŠ¤íŠ¸</button>
                <button class="btn" onclick="resetAll()">â†º ì´ˆê¸°í™”</button>
            </div>
            <div class="exercise-status">
                <div class="timer" id="timer">00:00</div>
                <div class="status-text" id="statusText">ì‹œë®¬ë ˆì´ì…˜ì„ ì„ íƒí•˜ì„¸ìš”</div>
            </div>
        </div>

        <div class="comparison-area">
            <div class="muscle-panel type-i-panel">
                <div class="panel-header">
                    <h3 class="panel-title type-i-title">Type I ì„¬ìœ  (ì ê·¼)</h3>
                    <p class="panel-subtitle">ì§€êµ¬ë ¥ íŠ¹í™” â€¢ ì‚°í™”ì  ëŒ€ì‚¬</p>
                </div>
                
                <div class="fiber-visual" id="typeI-visual">
                    <div class="fiber-strand type-i-strand strand1" id="typeI-strand1">ì§€êµ¬ë ¥ ì„¬ìœ  1</div>
                    <div class="fiber-strand type-i-strand strand2" id="typeI-strand2">ì§€êµ¬ë ¥ ì„¬ìœ  2</div>
                    <div class="fiber-strand type-i-strand strand3" id="typeI-strand3">ì§€êµ¬ë ¥ ì„¬ìœ  3</div>
                    <div class="fiber-strand type-i-strand strand4" id="typeI-strand4">ì§€êµ¬ë ¥ ì„¬ìœ  4</div>
                    <div class="fiber-strand type-i-strand strand5" id="typeI-strand5">ì§€êµ¬ë ¥ ì„¬ìœ  5</div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ìˆ˜ì¶•ë ¥</div>
                        <div class="metric-value type-i-value" id="typeI-force">0%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-i-fill" id="typeI-force-bar"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ì§€ì†ì„±</div>
                        <div class="metric-value type-i-value" id="typeI-endurance">100%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-i-fill" id="typeI-endurance-bar" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ATP ìˆ˜ì¤€</div>
                        <div class="metric-value type-i-value" id="typeI-atp">100%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-i-fill" id="typeI-atp-bar" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">í”¼ë¡œë„</div>
                        <div class="metric-value type-i-value" id="typeI-fatigue">0%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-i-fill" id="typeI-fatigue-bar"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="muscle-panel type-ii-panel">
                <div class="panel-header">
                    <h3 class="panel-title type-ii-title">Type II ì„¬ìœ  (ë°±ê·¼)</h3>
                    <p class="panel-subtitle">íŒŒì›Œ íŠ¹í™” â€¢ í•´ë‹¹ê³¼ì • ëŒ€ì‚¬</p>
                </div>
                
                <div class="fiber-visual" id="typeII-visual">
                    <div class="fiber-strand type-ii-strand strand1" id="typeII-strand1">íŒŒì›Œ ì„¬ìœ  1</div>
                    <div class="fiber-strand type-ii-strand strand2" id="typeII-strand2">íŒŒì›Œ ì„¬ìœ  2</div>
                    <div class="fiber-strand type-ii-strand strand3" id="typeII-strand3">íŒŒì›Œ ì„¬ìœ  3</div>
                    <div class="fiber-strand type-ii-strand strand4" id="typeII-strand4">íŒŒì›Œ ì„¬ìœ  4</div>
                    <div class="fiber-strand type-ii-strand strand5" id="typeII-strand5">íŒŒì›Œ ì„¬ìœ  5</div>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric">
                        <div class="metric-label">ìˆ˜ì¶•ë ¥</div>
                        <div class="metric-value type-ii-value" id="typeII-force">0%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-ii-fill" id="typeII-force-bar"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ì§€ì†ì„±</div>
                        <div class="metric-value type-ii-value" id="typeII-endurance">30%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-ii-fill" id="typeII-endurance-bar" style="width: 30%;"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">ATP ìˆ˜ì¤€</div>
                        <div class="metric-value type-ii-value" id="typeII-atp">100%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-ii-fill" id="typeII-atp-bar" style="width: 100%;"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">í”¼ë¡œë„</div>
                        <div class="metric-value type-ii-value" id="typeII-fatigue">0%</div>
                        <div class="metric-bar">
                            <div class="metric-fill type-ii-fill" id="typeII-fatigue-bar"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="comparison-charts">
            <h3 class="charts-title">ğŸ“ˆ ì‹¤ì‹œê°„ ì„±ëŠ¥ ë¹„êµ</h3>
            
            <div class="chart-row">
                <div class="chart-label">ìˆ˜ì¶• ì†ë„</div>
                <div class="chart-comparison">
                    <div class="chart-bar type-i-bar" data-type="Type I" style="width: 30%;" id="speed-typeI">
                        ëŠë¦¼ (30%)
                    </div>
                    <div class="chart-bar type-ii-bar" data-type="Type II" style="width: 95%;" id="speed-typeII">
                        ë¹ ë¦„ (95%) <span class="winner-indicator">ğŸ‘‘</span>
                    </div>
                </div>
            </div>
            
            <div class="chart-row">
                <div class="chart-label">ìµœëŒ€ ì¶œë ¥</div>
                <div class="chart-comparison">
                    <div class="chart-bar type-i-bar" data-type="Type I" style="width: 45%;" id="power-typeI">
                        ì¤‘ê°„ (45%)
                    </div>
                    <div class="chart-bar type-ii-bar" data-type="Type II" style="width: 100%;" id="power-typeII">
                        ë†’ìŒ (100%) <span class="winner-indicator">ğŸ‘‘</span>
                    </div>
                </div>
            </div>
            
            <div class="chart-row">
                <div class="chart-label">ì§€êµ¬ë ¥</div>
                <div class="chart-comparison">
                    <div class="chart-bar type-i-bar" data-type="Type I" style="width: 100%;" id="endurance-typeI">
                        ë§¤ìš°ë†’ìŒ (100%) <span class="winner-indicator">ğŸ‘‘</span>
                    </div>
                    <div class="chart-bar type-ii-bar" data-type="Type II" style="width: 25%;" id="endurance-typeII">
                        ë‚®ìŒ (25%)
                    </div>
                </div>
            </div>
            
            <div class="chart-row">
                <div class="chart-label">í”¼ë¡œ ì €í•­ì„±</div>
                <div class="chart-comparison">
                    <div class="chart-bar type-i-bar" data-type="Type I" style="width: 95%;" id="resistance-typeI">
                        ë†’ìŒ (95%) <span class="winner-indicator">ğŸ‘‘</span>
                    </div>
                    <div class="chart-bar type-ii-bar" data-type="Type II" style="width: 15%;" id="resistance-typeII">
                        ë‚®ìŒ (15%)
                    </div>
                </div>
            </div>
            
            <div class="chart-row">
                <div class="chart-label">ì‚°ì†Œ ì˜ì¡´ì„±</div>
                <div class="chart-comparison">
                    <div class="chart-bar type-i-bar" data-type="Type I" style="width: 90%;" id="oxygen-typeI">
                        ë†’ìŒ (90%) <span class="winner-indicator">ğŸ‘‘</span>
                    </div>
                    <div class="chart-bar type-ii-bar" data-type="Type II" style="width: 20%;" id="oxygen-typeII">
                        ë‚®ìŒ (20%)
                    </div>
                </div>
            </div>
        </div>

        <div class="side-comparison">
            <div class="feature-card type-i-card">
                <div class="card-header">
                    <h4 class="card-title type-i-title">Type I íŠ¹ì„±</h4>
                </div>
                <ul class="feature-list">
                    <li class="feature-item">ëŠë¦¬ê³  ì§€ì†ì ì¸ ìˆ˜ì¶•</li>
                    <li class="feature-item">ë†’ì€ ë¯¸í† ì½˜ë“œë¦¬ì•„ ë°€ë„</li>
                    <li class="feature-item">í’ë¶€í•œ ë¯¸ì˜¤ê¸€ë¡œë¹ˆ (ì ìƒ‰)</li>
                    <li class="feature-item">ì‚°í™”ì  ì¸ì‚°í™” ì£¼ë„</li>
                    <li class="feature-item">ë†’ì€ ëª¨ì„¸í˜ˆê´€ ë°€ë„</li>
                    <li class="feature-item">í”¼ë¡œ ì €í•­ì„± ìš°ìˆ˜</li>
                    <li class="feature-item">ë§ˆë¼í†¤, ì‚¬ì´í´ë§ì— ì í•©</li>
                    <li class="feature-item">ìì„¸ ìœ ì§€ ê·¼ìœ¡</li>
                </ul>
            </div>

            <div class="feature-card type-ii-card">
                <div class="card-header">
                    <h4 class="card-title type-ii-title">Type II íŠ¹ì„±</h4>
                </div>
                <ul class="feature-list">
                    <li class="feature-item">ë¹ ë¥´ê³  ê°•ë ¥í•œ ìˆ˜ì¶•</li>
                    <li class="feature-item">ë‚®ì€ ë¯¸í† ì½˜ë“œë¦¬ì•„ ë°€ë„</li>
                    <li class="feature-item">ì ì€ ë¯¸ì˜¤ê¸€ë¡œë¹ˆ (ë°±ìƒ‰)</li>
                    <li class="feature-item">í•´ë‹¹ê³¼ì • ì£¼ë„</li>
                    <li class="feature-item">ë‚®ì€ ëª¨ì„¸í˜ˆê´€ ë°€ë„</li>
                    <li class="feature-item">ë¹ ë¥¸ í”¼ë¡œ ë°œìƒ</li>
                    <li class="feature-item">ìŠ¤í”„ë¦°íŠ¸, ì›¨ì´íŠ¸ì— ì í•©</li>
                    <li class="feature-item">í­ë°œì  ì›€ì§ì„</li>
                </ul>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color red"></div>
                <span>Type I - ì§€êµ¬ë ¥í˜• (Red Muscle)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color gray"></div>
                <span>Type II - íŒŒì›Œí˜• (White Muscle)</span>
            </div>
        </div>
    </div>

    <script>
        let simulationActive = false;
        let simulationInterval;
        let currentTime = 0;
        let simulationType = null;
        
        // ê·¼ì„¬ìœ  ìƒíƒœ ë°ì´í„°
        const muscleData = {
            typeI: {
                force: 0,
                endurance: 100,
                atp: 100,
                fatigue: 0,
                maxForce: 60,
                baseEndurance: 100,
                fatigueRate: 0.15
            },
            typeII: {
                force: 0,
                endurance: 30,
                atp: 100,
                fatigue: 0,
                maxForce: 100,
                baseEndurance: 30,
                fatigueRate: 1.8
            }
        };

        function startComparison() {
            resetAll();
            simulationType = 'comparison';
            simulationActive = true;
            setActiveButton(0);
            
            document.getElementById('statusText').textContent = 'ë‘ ê·¼ì„¬ìœ  íƒ€ì… ë™ì‹œ ë¹„êµ ì§„í–‰ ì¤‘';
            
            // ë™ì‹œ í™œì„±í™”ë¡œ ì°¨ì´ì  ê°•ì¡°
            activateBothTypes();
            simulationInterval = setInterval(updateComparison, 200);
        }

        function simulateEndurance() {
            resetAll();
            simulationType = 'endurance';
            simulationActive = true;
            setActiveButton(1);
            
            document.getElementById('statusText').textContent = 'ì§€êµ¬ë ¥ í…ŒìŠ¤íŠ¸ - Type I ìš°ìœ„ ì˜ˆìƒ';
            
            activateEnduranceMode();
            simulationInterval = setInterval(updateEnduranceTest, 150);
        }

        function simulateSprint() {
            resetAll();
            simulationType = 'sprint';
            simulationActive = true;
            setActiveButton(2);
            
            document.getElementById('statusText').textContent = 'íŒŒì›Œ í…ŒìŠ¤íŠ¸ - Type II ìš°ìœ„ ì˜ˆìƒ';
            
            activateSprintMode();
            simulationInterval = setInterval(updateSprintTest, 120);
        }

        function activateBothTypes() {
            // Type I ì„¬ìœ  í™œì„±í™” (ëŠë¦° ìˆ˜ì¶•)
            for (let i = 1; i <= 5; i++) {
                const strand = document.getElementById(`typeI-strand${i}`);
                strand.classList.add('contracting-slow');
            }
            
            // Type II ì„¬ìœ  í™œì„±í™” (ë¹ ë¥¸ ìˆ˜ì¶•)
            for (let i = 1; i <= 5; i++) {
                const strand = document.getElementById(`typeII-strand${i}`);
                strand.classList.add('contracting-fast');
            }
            
            // ì´ˆê¸° ìˆ˜ì¶•ë ¥ ì„¤ì •
            muscleData.typeI.force = 45;
            muscleData.typeII.force = 80;
        }

        function activateEnduranceMode() {
            // Type I ì£¼ë„ì  í™œì„±í™”
            for (let i = 1; i <= 5; i++) {
                const strand = document.getElementById(`typeI-strand${i}`);
                strand.classList.add('contracting-slow', 'pulsing');
            }
            
            // Type II ë³´ì¡°ì  í™œì„±í™”
            for (let i = 1; i <= 5; i++) {
                const strand = document.getElementById(`typeII-strand${i}`);
                strand.classList.add('contracting-fast');
            }
            
            muscleData.typeI.force = 50;
            muscleData.typeII.force = 35;
        }

        function activateSprintMode() {
            // Type II ì£¼ë„ì  í™œì„±í™”
            for (let i = 1; i <= 5; i++) {
                const strand = document.getElementById(`typeII-strand${i}`);
                strand.classList.add('contracting-fast', 'pulsing');
            }
            
            // Type I ë³´ì¡°ì  í™œì„±í™”
            for (let i = 1; i <= 5; i++) {
                const strand = document.getElementById(`typeI-strand${i}`);
                strand.classList.add('contracting-slow');
            }
            
            muscleData.typeI.force = 25;
            muscleData.typeII.force = 95;
        }

        function updateComparison() {
            currentTime += 0.2;
            updateTimer();
            
            // Type I - ì•ˆì •ì  ì„±ëŠ¥ ìœ ì§€
            muscleData.typeI.force = 45 + Math.sin(currentTime * 0.3) * 8;
            muscleData.typeI.fatigue += 0.12;
            muscleData.typeI.atp = Math.max(85 - currentTime * 0.4, 60);
            muscleData.typeI.endurance = Math.max(100 - currentTime * 0.2, 70);
            
            // Type II - ì´ˆê¸° ë†’ì€ ì„±ëŠ¥, ë¹ ë¥¸ ê°ì†Œ
            if (currentTime < 15) {
                muscleData.typeII.force = 80 - currentTime * 2;
                muscleData.typeII.fatigue += 1.5;
                muscleData.typeII.atp = Math.max(90 - currentTime * 2.5, 25);
                muscleData.typeII.endurance = Math.max(30 - currentTime * 1.2, 5);
            } else {
                muscleData.typeII.force = Math.max(50 - (currentTime - 15) * 1.5, 10);
                muscleData.typeII.fatigue = Math.min(90, muscleData.typeII.fatigue + 0.8);
                muscleData.typeII.atp = Math.max(25 - (currentTime - 15) * 0.3, 5);
                muscleData.typeII.endurance = Math.max(5, 5);
                
                // Type II í”¼ë¡œ í‘œì‹œ
                for (let i = 1; i <= 5; i++) {
                    const strand = document.getElementById(`typeII-strand${i}`);
                    strand.classList.add('fatigued');
                }
            }
            
            updateAllDisplays();
            updateComparisonCharts();
            
            if (currentTime >= 60) {
                stopSimulation();
            }
        }

        function updateEnduranceTest() {
            currentTime += 0.15;
            updateTimer();
            
            // Type I - ì§€êµ¬ë ¥ í…ŒìŠ¤íŠ¸ì—ì„œ ìš°ìˆ˜í•œ ì„±ëŠ¥
            muscleData.typeI.force = Math.min(50 + Math.sin(currentTime * 0.4) * 10, 65);
            muscleData.typeI.fatigue += 0.08;
            muscleData.typeI.atp = Math.max(90 - currentTime * 0.25, 75);
            muscleData.typeI.endurance = Math.max(100 - currentTime * 0.15, 80);
            
            // Type II - ì§€êµ¬ë ¥ í…ŒìŠ¤íŠ¸ì—ì„œ ë¹ ë¥¸ ì €í•˜
            if (currentTime < 8) {
                muscleData.typeII.force = Math.max(35 - currentTime * 3, 5);
                muscleData.typeII.fatigue += 2.5;
                muscleData.typeII.atp = Math.max(80 - currentTime * 4, 15);
                muscleData.typeII.endurance = Math.max(30 - currentTime * 2.5, 0);
            } else {
                muscleData.typeII.force = 5;
                muscleData.typeII.fatigue = Math.min(95, muscleData.typeII.fatigue);
                muscleData.typeII.atp = Math.max(15 - (currentTime - 8) * 0.2, 5);
                muscleData.typeII.endurance = 0;
                
                // Type II ì™„ì „ í”¼ë¡œ
                for (let i = 1; i <= 5; i++) {
                    const strand = document.getElementById(`typeII-strand${i}`);
                    strand.classList.add('fatigued');
                    strand.classList.remove('contracting-fast');
                }
            }
            
            updateAllDisplays();
            updateComparisonCharts();
            
            if (currentTime >= 45) {
                stopSimulation();
            }
        }

        function updateSprintTest() {
            currentTime += 0.12;
            updateTimer();
            
            // Type II - ìŠ¤í”„ë¦°íŠ¸ì—ì„œ ìš°ìˆ˜í•œ ì´ˆê¸° ì„±ëŠ¥
            if (currentTime < 8) {
                muscleData.typeII.force = 95 + Math.sin(currentTime * 2) * 5;
                muscleData.typeII.fatigue += 2.8;
                muscleData.typeII.atp = Math.max(95 - currentTime * 4, 30);
                muscleData.typeII.endurance = Math.max(30 - currentTime * 2, 5);
            } else {
                muscleData.typeII.force = Math.max(100 - (currentTime - 8) * 5, 15);
                muscleData.typeII.fatigue = Math.min(85, muscleData.typeII.fatigue + 1.5);
                muscleData.typeII.atp = Math.max(30 - (currentTime - 8) * 1.5, 10);
                muscleData.typeII.endurance = Math.max(5, 2);
            }
            
            // Type I - ìŠ¤í”„ë¦°íŠ¸ì—ì„œ ë³´ì¡°ì  ì—­í• 
            muscleData.typeI.force = Math.min(25 + currentTime * 0.8, 40);
            muscleData.typeI.fatigue += 0.6;
            muscleData.typeI.atp = Math.max(85 - currentTime * 1.2, 50);
            muscleData.typeI.endurance = Math.max(100 - currentTime * 0.8, 60);
            
            if (currentTime > 12) {
                // Type II í”¼ë¡œ í‘œì‹œ
                for (let i = 1; i <= 5; i++) {
                    const strand = document.getElementById(`typeII-strand${i}`);
                    strand.classList.add('fatigued');
                }
            }
            
            updateAllDisplays();
            updateComparisonCharts();
            
            if (currentTime >= 25) {
                stopSimulation();
            }
        }

        function updateAllDisplays() {
            // Type I ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
            document.getElementById('typeI-force').textContent = Math.round(muscleData.typeI.force) + '%';
            document.getElementById('typeI-endurance').textContent = Math.round(muscleData.typeI.endurance) + '%';
            document.getElementById('typeI-atp').textContent = Math.round(muscleData.typeI.atp) + '%';
            document.getElementById('typeI-fatigue').textContent = Math.round(muscleData.typeI.fatigue) + '%';
            
            document.getElementById('typeI-force-bar').style.width = muscleData.typeI.force + '%';
            document.getElementById('typeI-endurance-bar').style.width = muscleData.typeI.endurance + '%';
            document.getElementById('typeI-atp-bar').style.width = muscleData.typeI.atp + '%';
            document.getElementById('typeI-fatigue-bar').style.width = muscleData.typeI.fatigue + '%';
            
            // Type II ë©”íŠ¸ë¦­ ì—…ë°ì´íŠ¸
            document.getElementById('typeII-force').textContent = Math.round(muscleData.typeII.force) + '%';
            document.getElementById('typeII-endurance').textContent = Math.round(muscleData.typeII.endurance) + '%';
            document.getElementById('typeII-atp').textContent = Math.round(muscleData.typeII.atp) + '%';
            document.getElementById('typeII-fatigue').textContent = Math.round(muscleData.typeII.fatigue) + '%';
            
            document.getElementById('typeII-force-bar').style.width = muscleData.typeII.force + '%';
            document.getElementById('typeII-endurance-bar').style.width = muscleData.typeII.endurance + '%';
            document.getElementById('typeII-atp-bar').style.width = muscleData.typeII.atp + '%';
            document.getElementById('typeII-fatigue-bar').style.width = muscleData.typeII.fatigue + '%';
        }

        function updateComparisonCharts() {
            // ì‹¤ì‹œê°„ ì„±ëŠ¥ ë¹„êµ ì°¨íŠ¸ ì—…ë°ì´íŠ¸ëŠ” ì—¬ê¸°ì„œ ì¶”ê°€ ê°€ëŠ¥
            // í˜„ì¬ëŠ” ì •ì  ì°¨íŠ¸ì´ì§€ë§Œ, ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ
        }

        function updateTimer() {
            const minutes = Math.floor(currentTime / 60);
            const seconds = Math.floor(currentTime % 60);
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function stopSimulation() {
            simulationActive = false;
            clearInterval(simulationInterval);
            
            const allStrands = document.querySelectorAll('.fiber-strand');
            allStrands.forEach(strand => {
                strand.classList.remove('contracting-slow', 'contracting-fast', 'pulsing');
            });
            
            let message = '';
            switch(simulationType) {
                case 'comparison':
                    message = 'ë¹„êµ ì™„ë£Œ! Type Iì€ ì§€ì†ë ¥, Type IIëŠ” ìˆœê°„ íŒŒì›Œì—ì„œ ìš°ìˆ˜';
                    break;
                case 'endurance':
                    message = 'ì§€êµ¬ë ¥ í…ŒìŠ¤íŠ¸ ì™„ë£Œ! Type Iì´ ì••ë„ì  ìš°ìœ„';
                    break;
                case 'sprint':
                    message = 'íŒŒì›Œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ! Type IIê°€ ì´ˆê¸° í­ë°œë ¥ì—ì„œ ìš°ìœ„';
                    break;
            }
            document.getElementById('statusText').textContent = message;
        }

        function resetAll() {
            simulationActive = false;
            clearInterval(simulationInterval);
            currentTime = 0;
            
            // ë°ì´í„° ì´ˆê¸°í™”
            muscleData.typeI = { force: 0, endurance: 100, atp: 100, fatigue: 0, maxForce: 60, baseEndurance: 100, fatigueRate: 0.15 };
            muscleData.typeII = { force: 0, endurance: 30, atp: 100, fatigue: 0, maxForce: 100, baseEndurance: 30, fatigueRate: 1.8 };
            
            updateAllDisplays();
            updateTimer();
            
            // ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
            const allStrands = document.querySelectorAll('.fiber-strand');
            allStrands.forEach(strand => {
                strand.classList.remove('contracting-slow', 'contracting-fast', 'fatigued', 'pulsing');
            });
            
            document.getElementById('statusText').textContent = 'ì‹œë®¬ë ˆì´ì…˜ì„ ì„ íƒí•˜ì„¸ìš”';
            setActiveButton(-1);
        }

        function setActiveButton(index) {
            const buttons = document.querySelectorAll('.btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            if (index >= 0 && index < 3) {
                buttons[index].classList.add('active');
            }
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            resetAll();
            console.log('ê³¨ê²©ê·¼ ì„¬ìœ  ë¹„êµ ì‹œë®¬ë ˆì´ì…˜ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });

        // í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '1': startComparison(); break;
                case '2': simulateEndurance(); break;
                case '3': simulateSprint(); break;
                case 'r': resetAll(); break;
            }
        });
    </script>
</body>
</html>